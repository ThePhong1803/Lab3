/*
 * fsm_modify_timer_control.h
 *
 *  Created on: Oct 26, 2022
 *      Author: PC
 */


#include "fsm_modify_timer_control.h"

void fsm_modify_timer_control(){
	switch(status){
		case MODIFY_RED:
			if(isTimer1Expired()) {
				setTimer1(10);
				toggleRed1();
				toggleRed2();
			}
			if(isButtonPressed(RETURN)) status = lastState;
			if(isButtonPressed())
			if(isButtonPressed(0)) status = MODIFY_YELLOW;
			break;
		case MODIFY_YELLOW:
			if(isTimer1Expired()) {
				setTimer1(10);
				toggleYellow1();
				toggleYellow2();
			}
			if(isTimer1Expired()) toggleYellow1();
			if(isButtonPressed(2)) status = lastState;
			if(isButtonPressed(0)) status = MODIFY_GREEN;
			break;
		case MODIFY_GREEN:
			if(isTimer1Expired()) {
				setTimer1(10);
				toggleGreen1();
				toggleGreen2();
			}
			if(isTimer1Expired()) toggleGreen1();
			if(isButtonPressed(2)) status = lastState;
			if(isButtonPressed(0)) status = lastState;
			break;
		default:
			break;
	}
}
