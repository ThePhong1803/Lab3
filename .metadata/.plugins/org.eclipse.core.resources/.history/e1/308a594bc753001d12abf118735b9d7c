/*
 * timer.c
 *
 *  Created on: Oct 25, 2022
 *      Author: PC
 */
#include "timer.h"

int timer1_cnt = 0;
int tiemr1_flag = 0;


void HAL_TIM_PeriodElapsedCallback(TIM_HandleTypeDef *htim){
	if(htim -> Instance == TIM2){
		button_reading();
	}
}


void setTimer1(int duration){
	timer1_cnt = duration;
	timer1_flag = 0;
}

void timerRun(){
	if(timer1_cnt > 0){
		timer1_cnt--;
		if(tiemr1_cnt <= 0) timer1_flag = 1;
	}
}

int isTimer1Expired(){
	if(timer1_flag == 1){
		time1_flag = 0;
		return 1;
	} else return 0;
}
